(function(e){function t(t){for(var n,o,l=t[0],s=t[1],c=t[2],u=0,p=[];u<l.length;u++)o=l[u],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&p.push(i[o][0]),i[o]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);d&&d(t);while(p.length)p.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,l=1;l<a.length;l++){var s=a[l];0!==i[s]&&(n=!1)}n&&(r.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},i={app:0},r=[];function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var d=s;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"02ac":function(e,t,a){"use strict";var n=a("7044"),i=a.n(n);i.a},"034f":function(e,t,a){"use strict";var n=a("85ec"),i=a.n(n);i.a},"04f2":function(e,t,a){},"164e":function(e,t){e.exports=echarts},"1af2":function(e,t){e.exports=NProgress},"25c9":function(e,t,a){},"261e":function(e,t,a){"use strict";var n=a("78ce"),i=a.n(n);i.a},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("8bbf"),i=a.n(n),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},o=[],l={name:"app",components:{}},s=l,c=(a("034f"),a("2877")),d=Object(c["a"])(s,r,o,!1,null,null,null),u=d.exports,p=a("6389"),m=a.n(p),h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login_container"},[a("h2",[e._v("登陆组件")]),a("div",{staticClass:"login_box"},[e._m(0),a("el-form",{ref:"loginForm",staticClass:"login_form",attrs:{model:e.loginForm,"status-icon":"",rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"用户名",prop:"username"}},[a("el-input",{attrs:{autocomplete:"off","prefix-icon":"el-icon-user"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username","string"===typeof t?t.trim():t)},expression:"loginForm.username"}})],1),a("el-form-item",{attrs:{label:"密  码",prop:"password"}},[a("el-input",{attrs:{type:"password",autocomplete:"off","prefix-icon":"el-icon-key","show-password":""},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password","string"===typeof t?t.trim():t)},expression:"loginForm.password"}})],1),a("el-form-item",{attrs:{label:"验证码",prop:"ver_code"}},[a("el-input",{attrs:{clearable:""},model:{value:e.loginForm.ver_code,callback:function(t){e.$set(e.loginForm,"ver_code",e._n(t))},expression:"loginForm.ver_code"}})],1),a("el-form-item",[a("el-checkbox",{attrs:{label:"记住密码",name:"rememberOn"},model:{value:e.loginForm.rememberOn,callback:function(t){e.$set(e.loginForm,"rememberOn",t)},expression:"loginForm.rememberOn"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("loginForm")}}},[e._v("登陆")]),a("el-button",{on:{click:function(t){return e.resetForm("loginForm")}}},[e._v("重置")])],1)],1)],1)])},g=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"avatar_box"},[n("img",{attrs:{src:a("cf05"),alt:"avatar"}})])}],f=(a("a9e3"),a("8ba4"),{name:"Login",props:{},components:{},data:function(){var e=function(e,t,a){if(!t)return a(new Error("验证码不能为空"));setTimeout((function(){Number.isInteger(t)?t<18?a(new Error("必须年满18岁")):a():a(new Error("请输入数字值"))}),1e3)},t=function(e,t,a){""===t&&a(new Error("请输入密码")),a()},a=function(e,t,a){""===t?a(new Error("请输入用户名")):a()};return{loginForm:{password:window.localStorage.getItem("password"),username:window.localStorage.getItem("username"),ver_code:"",rememberOn:!0},rules:{password:[{validator:t,trigger:"blur"}],username:[{validator:a,trigger:"blur"}],ver_code:[{validator:e,trigger:"blur"}]}}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;t.$http.post("/login",t.loginForm).then((function(e){var a=e.data;t.loginForm.rememberOn?(b("username",t.loginForm.username),b("password",t.loginForm.password)):(v("username"),v("password")),1==a.code?(t.$message({message:"恭喜你登陆成功",type:"success",center:!0}),window.sessionStorage.setItem("token",a.token),t.$router.push("/home")):t.$message({message:"登陆失败",type:"error",center:!0})}))}))},resetForm:function(e){this.$refs[e].resetFields()}}});function b(e,t){window.localStorage.setItem(e,t)}function v(e){window.localStorage.removeItem(e)}var _=f,y=(a("c2ec"),Object(c["a"])(_,h,g,!1,null,"d5cb65d0",null)),w=y.exports,D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[e._v(" This is welcome Page ")])},x=[],k={name:"Myapp",props:{},components:{},data:function(){return{}},computed:{},watch:{},methods:{},created:function(){},mounted:function(){},beforeDestroy:function(){}},C=k,$=Object(c["a"])(C,D,x,!1,null,"097605bd",null),S=$.exports,E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",{staticClass:"home_container"},[n("el-header",[n("div",{staticClass:"logo_container"},[n("img",{attrs:{src:a("b200"),alt:"yp"}}),e._v(" "),n("strong",[e._v("后台")])]),n("el-button",{attrs:{type:"",size:"mini"},on:{click:function(t){return e.logout()}}},[e._v("退出登录")])],1),n("el-container",[n("el-aside",{attrs:{width:e.isCollapse?"64px":"200px"}},[n("h2",{on:{click:function(t){return e.toggleCollapse()}}},[e.isCollapse?n("i",{staticClass:"el-icon-s-unfold"}):e._e(),e.isCollapse?e._e():n("i",{staticClass:"el-icon-s-fold"})]),n("el-menu",{attrs:{"unique-opened":"","background-color":"slategrey","text-color":"#fff","active-text-color":"#409bfe",collapse:e.isCollapse,"collapse-transition":!1,"default-active":e.defalutPath,router:""}},e._l(e.menulist,(function(t){return n("el-submenu",{key:t.id,attrs:{index:t.id+""}},[n("template",{slot:"title"},[n("i",{class:t.icon}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.authName))])]),e._l(t.children,(function(t){return n("el-menu-item",{key:t.id,attrs:{index:t.path},on:{click:function(a){return e.saveNavState(t.path)}}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-menu"}),n("span",[e._v(e._s(t.authName))])])],2)}))],2)})),1)],1),n("el-container",[n("el-main",[n("router-view")],1)],1)],1),n("el-footer",[e._v("Footer")])],1)},z=[],O={name:"Home",props:{},components:{},data:function(){return{menulist:[],isCollapse:!1,defalutPath:"",openMenus:[]}},computed:{},watch:{$route:function(e){if("/welcome"==e.path)return this.defalutPath="",!1;this.defalutPath=e.path}},methods:{logout:function(){window.sessionStorage.clear(),this.$router.push("/login")},getMenuList:function(){var e=this;this.$http.get("/menu").then((function(t){var a=t.data;1!==a.code?e.$message({type:"error",message:a.msg}):e.menulist=a.data}))},toggleCollapse:function(){this.isCollapse=!this.isCollapse},saveNavState:function(e){this.defalutPath=e},foldSubMenu:function(){}},created:function(){this.getMenuList(),this.defalutPath=this.$route.path},mounted:function(){this.defalutPath=this.$route.path},beforeDestroy:function(){}},V=O,q=(a("02ac"),Object(c["a"])(V,E,z,!1,null,"ef143ece",null)),L=q.exports,P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"users_container"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),a("el-breadcrumb-item",[e._v("用户管理")]),a("el-breadcrumb-item",[e._v("用户列表")])],1),a("p",[e._v("远程只有获取数据,本地提供增加和修改删除,没有提交到远程接口")]),a("el-card",{staticClass:"box-card"},[a("el-row",{attrs:{gutter:22}},[a("el-col",{attrs:{span:8}},[a("el-input",{attrs:{placeholder:"请输入查询内容",clearable:""},model:{value:e.queryInfo.query,callback:function(t){e.$set(e.queryInfo,"query",t)},expression:"queryInfo.query"}},[a("el-button",{attrs:{slot:"append",type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.getUsers()}},slot:"append"},[e._v("搜索")])],1)],1),a("el-col",{attrs:{span:16}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addUser()}}},[e._v("添加用户")])],1)],1),[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.userlist,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"index",width:"60px",label:"序号",align:"center"}}),a("el-table-column",{attrs:{prop:"mg_name",label:"姓名",width:"120px",align:"center"}}),a("el-table-column",{attrs:{prop:"mg_email",label:"邮件",width:"180px",align:"center"}}),a("el-table-column",{attrs:{prop:"mg_mobile",label:"电话",width:"180px",align:"center"}}),a("el-table-column",{attrs:{prop:"role_id",label:"角色",width:"120px",align:"center"}}),a("el-table-column",{attrs:{label:"状态",width:"100px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{disabled:""},model:{value:t.row.mg_state,callback:function(a){e.$set(t.row,"mg_state",a)},expression:"scope.row.mg_state"}})]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(a){return e.handleEdit(t.row)}}}),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return e.handleDelete(t.row)}}})]}}])})],1)],a("el-pagination",{attrs:{"current-page":e.queryInfo.pagenum,"page-sizes":[1,2,5,10],"page-size":e.queryInfo.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.total,background:!0},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],2),a("el-dialog",{attrs:{title:"编辑框",visible:e.editorDalog.isVisible,width:"50%"},on:{"update:visible":function(t){return e.$set(e.editorDalog,"isVisible",t)},close:e.handleDialogClose}},[a("EditUser",{attrs:{type:e.editorDalog.type,data:e.editorDalog.editRow},on:{oncancel:e.handleDialogClose,onsave:e.handleDialogEnter}})],1)],1)},j=[],R=(a("4de4"),a("d81d"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:" "},["Edit"==e.type?a("p",[e._v("实践操作需根据id获取最新data来填充数据")]):e._e(),a("el-form",{ref:"edituserForm",attrs:{"label-position":"right","label-width":"80px",model:e.row,rules:e.rules}},[a("el-form-item",{attrs:{label:"用户名",prop:"mg_name"}},["Edit"==e.type?a("el-input",{attrs:{disabled:""},model:{value:e.row.mg_name,callback:function(t){e.$set(e.row,"mg_name",t)},expression:"row.mg_name"}}):a("el-input",{model:{value:e.row.mg_name,callback:function(t){e.$set(e.row,"mg_name",t)},expression:"row.mg_name"}})],1),a("el-form-item",{attrs:{label:"手机号",prop:"mg_mobile"}},[a("el-input",{model:{value:e.row.mg_mobile,callback:function(t){e.$set(e.row,"mg_mobile",t)},expression:"row.mg_mobile"}})],1),a("el-form-item",{attrs:{label:"邮箱",prop:"mg_email"}},[a("el-input",{model:{value:e.row.mg_email,callback:function(t){e.$set(e.row,"mg_email",t)},expression:"row.mg_email"}})],1),a("el-form-item",{attrs:{label:"角色",prop:"role_id"}},[a("el-input",{model:{value:e.row.role_id,callback:function(t){e.$set(e.row,"role_id",t)},expression:"row.role_id"}})],1),a("el-form-item",{attrs:{label:"状态",prop:"mg_state"}},[a("el-switch",{model:{value:e.row.mg_state,callback:function(t){e.$set(e.row,"mg_state",t)},expression:"row.mg_state"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSave()}}},[e._v("提交")]),a("el-button",{on:{click:function(t){return e.handleCancle()}}},[e._v("取消")])],1)],1)],1)}),I=[],F=a("5530"),T={name:"EditUser",components:{},props:{data:Object,oncancel:Function,onsave:Function,type:String},data:function(){var e=function(e,t,a){if(""===t)a(new Error("请输入手机号"));else{var n=/^(0|86|17951)?(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]{8}$/;if(n.test(t))return a();a(new Error("请输入合法的手机号"))}},t=function(e,t,a){if(""===t)a(new Error("请输入非空邮箱"));else{var n=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(\.[a-zA-Z0-9_-])+/;if(n.test(t))return a();a(new Error("请输入合法的邮箱"))}},a=Object(F["a"])({},this.data);return"Add"==this.type&&(a={mg_name:"",role_id:"",mg_mobile:"",mg_email:"",mg_state:!1}),{row:Object(F["a"])({},a),rules:{mg_name:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:5,max:13,message:"长度在 5 到13 个字符",trigger:"blur"}],mg_mobile:[{required:!0,message:"请输入手机号",trigger:"blur"},{validator:e,trigger:"blur"}],mg_email:[{required:!0,message:"请输入正确邮箱",trigger:"blur"},{validator:t,trigger:"blur"}],role_id:[{required:!0,message:"请输入角色",trigger:"blur"}]}}},watch:{data:function(e){this.row=Object(F["a"])({},e)}},computed:{},methods:{handleCancle:function(){this.$refs.edituserForm.resetFields(),this.$emit("oncancel")},handleSave:function(){this.$emit("onsave",this.row)}},created:function(){},mounted:function(){}},N=T,M=Object(c["a"])(N,R,I,!1,null,"27906009",null),A=M.exports,U={name:"Users",components:{EditUser:A},props:{},data:function(){return{queryInfo:{query:"",pagenum:1,pagesize:2},editorDalog:{editRow:{},type:"Edit",isVisible:!1},userlist:[],total:0}},watch:{},computed:{},methods:{getUsers:function(){var e=this;this.$http.post("/users",this.queryInfo).then((function(t){var a=t.data;if(0!=a.code)return e.$message.error("获取用户信息失败");e.userlist=a.data,e.total=a.total}))},addUser:function(){this.editorDalog.isVisible=!0,this.editorDalog.type="Add"},handleEdit:function(e){this.editorDalog.editRow=e,this.editorDalog.type="Edit",this.editorDalog.isVisible=!0},handleDelete:function(e){this.userlist=this.userlist.filter((function(t){return t.mg_id!=e.mg_id}))},handleSizeChange:function(e){this.queryInfo.pagesize=e,this.getUsers()},handleCurrentChange:function(e){this.queryInfo.pagenum=e,this.getUsers()},handleDialogClose:function(){this.editorDalog.editRow={},this.editorDalog.isVisible=!1},handleDialogEnter:function(e){"Add"==this.editorDalog.type&&this.userlist.push(e),this.userlist=this.userlist.map((function(t){return t.mg_id==e.mg_id?e:t})),this.editorDalog.isVisible=!1}},created:function(){this.getUsers()},mounted:function(){}},G=U,J=(a("9e30"),Object(c["a"])(G,P,j,!1,null,"42223088",null)),H=J.exports,B=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"goods_container"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),a("el-breadcrumb-item",[e._v("商品管理")]),a("el-breadcrumb-item",[e._v("商品列表")])],1),a("p",[e._v("只有get数据 没有edit和delete远程接口,以及搜索没有做正则匹配上搜索")]),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-input",{attrs:{placeholder:"请输入查询内容",clearable:""},model:{value:e.queryInfo.search,callback:function(t){e.$set(e.queryInfo,"search",t)},expression:"queryInfo.search"}},[a("el-button",{attrs:{slot:"append",type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.getGoods()}},slot:"append"},[e._v("搜索")])],1)],1),a("el-col",{attrs:{span:16}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addGoods()}}},[e._v("添加商品")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.goodList,border:"",lazy:"",stripe:""}},[a("el-table-column",{attrs:{type:"index",width:"60px",label:"序号",align:"center"}}),a("el-table-column",{attrs:{prop:"goods_name",label:"商品名称",align:"center"}}),a("el-table-column",{attrs:{prop:"goods_price",label:"商品价格(元)",width:"120px",align:"center"}}),a("el-table-column",{attrs:{prop:"goods_weight",label:"商品重量(g)",width:"120px",align:"center"}}),a("el-table-column",{attrs:{label:"创建时间",align:"center",width:"220px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.getFormatTime("yyyy-MM-dd hh:mm:ss",t.row.add_time))+" ")]}}])}),a("el-table-column",{attrs:{label:"操作",width:"180px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(a){return e.handleEdit(t.row)}}}),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return e.handleDelete(t.row)}}})]}}])})],1),a("el-pagination",{attrs:{"current-page":e.queryInfo.pagenum,"page-sizes":[1,5,10,20],"page-size":e.queryInfo.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.total,background:!0},on:{"size-change":e.handlePageSizeChange,"current-change":e.handlePageCurrentChange}}),a("el-dialog",{attrs:{title:"编辑框",visible:e.editorDalog.isVisible,width:"50%"},on:{"update:visible":function(t){return e.$set(e.editorDalog,"isVisible",t)},close:e.handleDialogClose}},[a("EditGoods",{attrs:{data:e.editorDalog.editorData},on:{oncancel:e.handleDialogClose,onsave:e.handleDialogSubmit}})],1)],1)},Y=[],K=(a("d3b7"),a("4d63"),a("ac1f"),a("25f0"),a("5319"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:" "},[a("el-form",{attrs:{model:e.editor,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"商品名称"}},[a("el-input",{model:{value:e.editor.goods_name,callback:function(t){e.$set(e.editor,"goods_name",t)},expression:"editor.goods_name"}})],1),a("el-form-item",{attrs:{label:"商品价格"}},[a("el-input",{model:{value:e.editor.goods_price,callback:function(t){e.$set(e.editor,"goods_price",t)},expression:"editor.goods_price"}})],1),a("el-form-item",{attrs:{label:"商品重量(g)"}},[a("el-input",{model:{value:e.editor.goods_weight,callback:function(t){e.$set(e.editor,"goods_weight",t)},expression:"editor.goods_weight"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSave()}}},[e._v("提交")]),a("el-button",{on:{click:function(t){return e.handleCancle()}}},[e._v("取消")])],1)],1)],1)}),Z=[],X={name:"EditGoods",components:{},props:{data:Object},data:function(){return{editor:Object(F["a"])({},this.data)}},watch:{data:function(e){this.editor=Object(F["a"])({},e)}},computed:{},methods:{handleSave:function(){this.editor.upd_time=new Date-1,this.$emit("onsave",this.editor)},handleCancle:function(){this.$emit("oncancel")}},created:function(){},mounted:function(){}},Q=X,W=Object(c["a"])(Q,K,Z,!1,null,"cec70c42",null),ee=W.exports,te={name:"Goods",components:{EditGoods:ee},props:{},data:function(){return{queryInfo:{search:"",pagenum:1,pagesize:10},goodList:[],total:0,loading:!0,editorDalog:{isVisible:!1,editorData:{}}}},watch:{},computed:{},methods:{getFormatTime:function(e,t){"[object String]"==Object.prototype.toString.call(t)&&(t=new Date(t)),"[object Number]"==Object.prototype.toString.call(t)&&(t=new Date(t));var a={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),a)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?a[n]:("00"+a[n]).substr((""+a[n]).length)));return e},getGoods:function(){var e=this,t=this.$loading({target:".el-table",lock:!0,fullscreen:!1,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.$http.get("/goods",{params:Object(F["a"])({},this.queryInfo)}).then((function(a){var n=a.data;1==n.code?(e.goodList=n.data.goods,e.total=n.data.total):e.$message.error("获取数据失败"),t.close()}))},addGoods:function(){this.editorDalog.isVisible=!0,this.editorDalog.editorData={}},handleEdit:function(e){this.editorDalog.isVisible=!0,this.editorDalog.editorData=e},handleDelete:function(e){this.goodList=this.goodList.filter((function(t){return t.goods_id!=e.goods_id}))},handlePageSizeChange:function(e){this.queryInfo.pagesize=e,this.getGoods()},handlePageCurrentChange:function(e){this.queryInfo.pagenum=e,this.getGoods()},handleDialogClose:function(){this.editorDalog.isVisible=!1,this.editorDalog.editorData={}},handleDialogSubmit:function(e){this.handleDialogClose(),this.goodList=this.goodList.map((function(t){return t.goods_id==e.goods_id?e:t}))}},created:function(){this.getGoods()},mounted:function(){}},ae=te,ne=(a("261e"),Object(c["a"])(ae,B,Y,!1,null,"0bf68e12",null)),ie=ne.exports,re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"goods_container"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),a("el-breadcrumb-item",[e._v("商品管理")]),a("el-breadcrumb-item",[e._v("商品分类")])],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}}),a("el-col",{attrs:{span:16}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"small"},on:{click:function(t){e.addDialogVisible=!0}}},[e._v("添加分类")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.cateLists,border:"",lazy:"",stripe:"","row-key":"cat_id","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{prop:"cat_name",label:"分类名称",align:"center"}}),a("el-table-column",{attrs:{prop:"cat_deleted",label:"是否有效",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[e.row.cat_deleted?a("i",{staticClass:"el-icon-error",attrs:{size:"mini"}}):a("i",{staticClass:"el-icon-success bgColor",attrs:{size:"mini"}})]}}])}),a("el-table-column",{attrs:{prop:"cat_level",label:"等级",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.cat_level?a("el-tag",[e._v("一级")]):1==t.row.cat_level?a("el-tag",{attrs:{type:"success"}},[e._v("二级")]):2==t.row.cat_level?a("el-tag",{attrs:{type:"danger"}},[e._v("三级")]):e._e()]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(a){return e.handleEdit(t.row)}}}),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return e.handleDelete(t.row)}}})]}}])})],1),a("el-pagination",{attrs:{"current-page":e.queryInfo.pagenum,"page-sizes":[1,5,10,20],"page-size":e.queryInfo.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.total,background:!0},on:{"size-change":e.handlePageSizeChange,"current-change":e.handlePageCurrentChange}}),a("el-dialog",{attrs:{title:"编辑分类",visible:e.editDialogVisible,width:"80%","before-close":e.handleClose},on:{"update:visible":function(t){e.editDialogVisible=t}}},[a("el-form",{attrs:{model:e.editor,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"分类名称",required:""}},[a("el-input",{model:{value:e.editor.cat_name,callback:function(t){e.$set(e.editor,"cat_name",t)},expression:"editor.cat_name"}})],1)],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.editDialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.editSubmit}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"添加分类",visible:e.addDialogVisible,width:"80%","before-close":e.handleClose},on:{"update:visible":function(t){e.addDialogVisible=t}}},[a("el-form",{attrs:{model:e.addtor,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"分类名称",required:""}},[a("el-input",{model:{value:e.addtor.cat_name,callback:function(t){e.$set(e.addtor,"cat_name",t)},expression:"addtor.cat_name"}})],1),a("el-form-item",{attrs:{label:"父级分类"}},[a("el-cascader",{attrs:{options:e.addtor.cat_list,props:{expandTrigger:"hover"}},on:{change:e.handleChange},model:{value:e.addtor.cat_desc,callback:function(t){e.$set(e.addtor,"cat_desc",t)},expression:"addtor.cat_desc"}})],1)],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addDialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addSubmit}},[e._v("确 定")])],1)],1)],1)},oe=[],le={name:"Categories",components:{},props:{},data:function(){return{cateLists:[],editDialogVisible:!1,editor:{},addDialogVisible:!1,addtor:{cat_name:"",cat_desc:"",cat_list:[]},total:0,queryInfo:{type:2,pagenum:1,pagesize:5}}},watch:{},computed:{},methods:{getLists:function(){var e=this;this.$http.get("/categories",{params:this.queryInfo}).then((function(t){var a=t.data;1==a.code&&(e.cateLists=a.data,e.total=a.total,e.addtor.cat_list=e.getOptions(a.data))}))},handleEdit:function(e){this.editDialogVisible=!0,this.editor=Object(F["a"])({},e)},editSubmit:function(){alert(JSON.stringify(this.editor))},addSubmit:function(){this.addDialogVisible=!1,alert(JSON.stringify(this.addtor.cat_desc+" 序列改名为: "+this.addtor.cat_name))},handleClose:function(){this.editDialogVisible=!1,this.addDialogVisible=!1},handleChange:function(e){this.addtor.cat_desc=e},getOptions:function(e){var t=this;return e.map((function(e){var a={value:e.cat_id,label:e.cat_name};return e.children?(a.children=t.getOptions(e.children),a):a}))},handlePageSizeChange:function(e){this.queryInfo.pagesize=e,this.getLists()},handlePageCurrentChange:function(e){this.queryInfo.pagenum=e,this.getLists()}},created:function(){this.getLists()},mounted:function(){}},se=le,ce=(a("8229"),Object(c["a"])(se,re,oe,!1,null,"06fb1dc3",null)),de=ce.exports,ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"goods_container"},[a("el-card",[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),a("el-breadcrumb-item",[e._v("商品管理")]),a("el-breadcrumb-item",[e._v("参数列表")])],1),a("el-row",[a("el-col",{attrs:{span:12}},[e._v(" 选择商品分类: "),a("el-cascader",{attrs:{options:e.selector.list,props:{expandTrigger:"hover",checkStrictly:!0}},on:{change:e.handleChange},model:{value:e.selector.value,callback:function(t){e.$set(e.selector,"value",t)},expression:"selector.value"}})],1)],1),a("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.handleClick},model:{value:e.tabPanel.activeName,callback:function(t){e.$set(e.tabPanel,"activeName",t)},expression:"tabPanel.activeName"}},[a("el-tab-pane",{attrs:{label:"一级管理",name:"first"}},[a("el-row",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.openDialog()}}},[e._v("添加一级参数")])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tabTable_1,border:"","row-class-name":e.tableRowClassName}},[a("el-table-column",{attrs:{type:"index",width:"120px",label:"序号",align:"center"}}),a("el-table-column",{attrs:{label:"参数名称",prop:"cat_name",align:"center"}}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(a){return e.handleEdit(t.row)}}}),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return e.handleDelete(t.row)}}})]}}])})],1)],1),a("el-tab-pane",{attrs:{label:"二级管理",name:"second",disabled:1!==e.selector.value.length&&2!==e.selector.value.length&&3!==e.selector.value.length}},[a("el-row",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.openDialog()}}},[e._v("添加二级参数")])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tabTable_2,border:"","row-class-name":e.tableRowClassName}},[a("el-table-column",{attrs:{type:"index",width:"120px",label:"序号",align:"center"}}),a("el-table-column",{attrs:{label:"参数名称",prop:"cat_name",align:"center"}}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(a){return e.handleEdit(t.row)}}}),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return e.handleDelete(t.row)}}})]}}])})],1)],1),a("el-tab-pane",{attrs:{label:"三级管理",name:"third",disabled:2!==e.selector.value.length&&3!==e.selector.value.length}},[a("el-row",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.openDialog()}}},[e._v("添加三级参数")])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tabTable_3,border:"","row-class-name":e.tableRowClassName}},[a("el-table-column",{attrs:{type:"index",width:"120px",label:"序号",align:"center"}}),a("el-table-column",{attrs:{label:"参数名称",prop:"cat_name",align:"center"}}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(a){return e.handleEdit(t.row)}}}),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return e.handleDelete(t.row)}}})]}}])})],1)],1)],1)],1),a("el-dialog",{attrs:{title:"编辑参数对话框",visible:e.paramsDialog,width:"70%","before-close":e.handleParamsClose},on:{"update:visible":function(t){e.paramsDialog=t}}},[a("el-form",{attrs:{"label-width":"100px",model:e.tabPanel}},[a("el-form-item",{attrs:{label:"参数名称",required:""}},[a("el-input",{model:{value:e.tabPanel.editValue.cat_name,callback:function(t){e.$set(e.tabPanel.editValue,"cat_name","string"===typeof t?t.trim():t)},expression:"tabPanel.editValue.cat_name"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.handleParamsClose}},[e._v("取 消")]),"add"==e.tabPanel.type?a("el-button",{attrs:{type:"primary"},on:{click:e.handleParamsSubmit}},[e._v(" 确 定 ")]):"edit"==e.tabPanel.type?a("el-button",{attrs:{type:"primary"},on:{click:e.handleParamsEdit}},[e._v(" 提 交 ")]):e._e()],1)],1)],1)},pe=[],me=(a("4160"),a("159b"),{name:"Params",components:{},props:{},data:function(){return{dataList:[],selector:{value:[],list:[]},tabPanel:{activeName:"first",editValue:{cat_name:"",cat_id:-1},type:"add"},tabTable_1:[],tabTable_2:[],tabTable_3:[],paramsDialog:!1}},watch:{},computed:{},methods:{getList:function(){var e=this;this.$http.get("/categories",{params:{type:2,pagenum:1,pagesize:10}}).then((function(t){var a=t.data;1==a.code&&(e.dataList=a.data,e.selector.list=e.getOptions(e.dataList),e.getLevelList())}))},getOptions:function(e){var t=this;return e.map((function(e){var a={value:e.cat_id,label:e.cat_name};return e.children?(a.children=t.getOptions(e.children),a):a}))},handleChange:function(e){this.selector.value=e,this.getLevelList()},handleClick:function(e){},getLevelList:function(){var e=this;this.tabTable_1=[],this.tabTable_2=[],this.tabTable_3=[],this.dataList.map((function(t){var a=Object(F["a"])({},t);delete a.children,e.tabTable_1.push(a),t.children&&t.cat_id==e.selector.value[0]&&t.children.map((function(t){var a=Object(F["a"])({},t);delete a.children,e.tabTable_2.push(a),t.children&&t.cat_id==e.selector.value[1]&&t.children.map((function(t){var a=Object(F["a"])({},t);e.tabTable_3.push(a)}))}))}))},openDialog:function(){this.paramsDialog=!0,this.tabPanel.type="add"},handleEdit:function(e){this.paramsDialog=!0,this.tabPanel.type="edit",this.tabPanel.editValue.cat_name=e.cat_name,this.tabPanel.editValue.cat_id=e.cat_id},handleDelete:function(e){alert(JSON.stringify(e))},handleParamsEdit:function(){this.paramsDialog=!1,alert(JSON.stringify(this.tabPanel.editValue))},handleParamsClose:function(){this.paramsDialog=!1,this.tabPanel.editValue.cat_name=""},handleParamsSubmit:function(){var e=this;switch(this.tabPanel.activeName){case"first":var t={cat_id:Math.floor(2e3*Math.random())+1e4,cat_name:this.tabPanel.editValue.cat_name,cat_level:0};this.dataList.push(t),this.selector.list=this.getOptions(this.dataList),this.getLevelList();break;case"second":var a={cat_id:Math.floor(2e3*Math.random())+2e4,cat_name:this.tabPanel.editValue.cat_name,cat_level:1};this.dataList.forEach((function(t){t.cat_id==e.selector.value[0]&&(t.children||(t.children=[]),t.children.push(a))})),this.selector.list=this.getOptions(this.dataList),this.getLevelList();break;case"third":var n={cat_id:Math.floor(2e3*Math.random())+2e4,cat_name:this.tabPanel.editValue.cat_name,cat_level:2};this.dataList.forEach((function(t){t.cat_id==e.selector.value[0]&&(t.children||(t.children=[]),t.children.map((function(t){t.cat_id===e.selector.value[1]&&(t.children||(t.children=[]),t.children.push(n))})))})),this.selector.list=this.getOptions(this.dataList),this.getLevelList();break}this.paramsDialog=!1,this.tabPanel.editValue.cat_name=""},tableRowClassName:function(e){var t=e.row;return t.cat_id===this.selector.value[0]||t.cat_id===this.selector.value[1]||t.cat_id===this.selector.value[2]?"table-select":""}},created:function(){this.getList()},mounted:function(){}}),he=me,ge=(a("7962"),Object(c["a"])(he,ue,pe,!1,null,"744fd5e6",null)),fe=ge.exports,be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"rights_container"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),a("el-breadcrumb-item",[e._v("权限管理")]),a("el-breadcrumb-item",[e._v("权限列表")])],1),a("p",[e._v("展示权限列表等级")]),[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.lists,border:"","default-sort":{prop:"level",order:"ascending"}}},[a("el-table-column",{attrs:{type:"index",width:"50",label:"序号"}}),a("el-table-column",{attrs:{prop:"authName",label:"权限名称",sortable:""}}),a("el-table-column",{attrs:{prop:"path",label:"路径",sortable:""}}),a("el-table-column",{attrs:{prop:"level",label:"权限等级",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.level?a("el-tag",{attrs:{type:" "}},[e._v(" 一级权限 ")]):e._e(),1==t.row.level?a("el-tag",{attrs:{type:"success"}},[e._v(" 二级权限 ")]):e._e(),2==t.row.level?a("el-tag",{attrs:{type:"warning"}},[e._v(" 三级权限 ")]):e._e()]}}])})],1)]],2)},ve=[],_e={name:"Rights",components:{},props:{},data:function(){return{lists:[]}},watch:{},computed:{},methods:{getLists:function(){var e=this;this.$http.get("/rightlists").then((function(t){var a=t.data;200==a.meta.status&&(e.lists=a.data)}))}},created:function(){this.getLists()},mounted:function(){}},ye=_e,we=Object(c["a"])(ye,be,ve,!1,null,"62430fa5",null),De=we.exports,xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"rights_container"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),a("el-breadcrumb-item",[e._v("权限管理")]),a("el-breadcrumb-item",[e._v("角色列表")])],1),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addRole()}}},[e._v("添加角色")]),a("el-dialog",{attrs:{title:"编辑框",visible:e.editorDalog.isVisible,width:"50%"},on:{"update:visible":function(t){return e.$set(e.editorDalog,"isVisible",t)},close:e.handleDialogClose}},[a("EditRights",{ref:"child",attrs:{type:e.editorDalog.type,data:e.editorDalog.editRow},on:{oncancel:e.handleDialogClose,onsave:e.handleDialogEnter}})],1),a("el-card",[[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.rolesList,border:""}},[a("el-table-column",{attrs:{type:"expand",width:"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.children,(function(n){return a("el-row",{key:n.id,attrs:{gutter:22}},[a("el-col",{attrs:{span:5}},[a("el-tag",{attrs:{effect:"dark",closable:""},on:{close:function(a){return e.handleDeleteItem(t.row,n.id)}}},[e._v(" "+e._s(n.authName)+" ")]),a("i",{staticClass:"el-icon-caret-right",attrs:{size:"mini"}})],1),a("el-col",{attrs:{span:19}},e._l(n.children,(function(n){return a("el-row",{key:n.id},[a("el-col",{attrs:{span:6}},[a("el-tag",{attrs:{type:"success",closable:"",effect:"dark"},on:{close:function(a){return e.handleDeleteItem(t.row,n.id)}}},[e._v(" "+e._s(n.authName)+" ")]),a("i",{staticClass:"el-icon-caret-right",attrs:{size:"mini"}})],1),a("el-col",{attrs:{span:18}},e._l(n.children,(function(n){return a("el-tag",{key:n.id,attrs:{closable:"",type:"warning",effect:"dark"},on:{close:function(a){return e.handleDeleteItem(t.row,n.id)}}},[e._v(" "+e._s(n.authName)+" ")])})),1)],1)})),1)],1)}))}}])},[a("template",{slot:"header"},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.handleHeader()}}},[a("i",{staticClass:"el-icon-upload2"})])],1)],2),a("el-table-column",{attrs:{type:"index",width:"120px",label:"序号",align:"center"}}),a("el-table-column",{attrs:{prop:"roleName",label:"角色名称"}}),a("el-table-column",{attrs:{prop:"roleDesc",label:"角色描述"}}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"350px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleEditDialog(t.row)}}},[a("i",{staticClass:"el-icon-edit"},[e._v("编辑")])]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDeleteItem(t.row,t.row.rid)}}},[a("i",{staticClass:"el-icon-delete"},[e._v("删除")])]),a("el-button",{attrs:{size:"mini",type:"warning"}},[a("i",{staticClass:"el-icon-el-icon-set-up",on:{click:function(a){return e.setRights(t.row)}}},[e._v(" 分配权限 ")])])]}}])})],1)]],2),a("el-dialog",{attrs:{visible:e.treeDialog.isVisible,width:"50%"},on:{"update:visible":function(t){return e.$set(e.treeDialog,"isVisible",t)},close:e.handleCloseTree}},[a("el-tree",{ref:"rightsTree",attrs:{"highlight-current":"","default-expand-all":"",data:e.treeDialog.treedata,"show-checkbox":"","node-key":"id",props:e.treeDialog.defaultTreeProps,"default-checked-keys":e.treeDialog.treeCheck}}),a("el-row",[a("el-col",{attrs:{span:18}}),a("el-col",[a("el-button",{attrs:{size:"small"},on:{click:function(t){return e.handleCloseTree()}}},[e._v("取消")]),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.getAllRights()}}},[e._v("提交")])],1)],1)],1)],1)},ke=[],Ce=(a("45fc"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[a("el-form",{ref:"editRoleForm",attrs:{model:e.formData,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"角色名称:",required:""}},[a("el-input",{model:{value:e.formData.roleName,callback:function(t){e.$set(e.formData,"roleName","string"===typeof t?t.trim():t)},expression:"formData.roleName"}})],1),a("el-form-item",{attrs:{label:"角色描述:",required:""}},[a("el-input",{model:{value:e.formData.roleDesc,callback:function(t){e.$set(e.formData,"roleDesc","string"===typeof t?t.trim():t)},expression:"formData.roleDesc"}})],1),a("el-form-item",[a("el-button",{on:{click:function(t){return e.handleCancel()}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSubmit()}}},[e._v("提交")])],1)],1)],1)}),$e=[],Se={name:"EditDialog",props:["data","type"],components:{},data:function(){var e=Object(F["a"])({},this.data);return"Add"==this.type&&(e.roleName="",e.roleDesc=""),{formData:e}},computed:{},watch:{data:function(e){this.formData=Object(F["a"])({},e)}},methods:{resetForm:function(){this.$refs.editRoleForm.resetFields()},handleCancel:function(){this.resetForm(),this.$emit("oncancel")},handleSubmit:function(){this.$emit("onsave",this.formData),this.resetForm()}},created:function(){},mounted:function(){},beforeDestroy:function(){}},Ee=Se,ze=Object(c["a"])(Ee,Ce,$e,!1,null,"0a5bc5c1",null),Oe=ze.exports,Ve={name:"Roles",components:{EditRights:Oe},props:{},data:function(){return{expands:["89"],editorDalog:{editRow:{},type:"Edit",isVisible:!1},treeDialog:{editId:0,isVisible:!1,treedata:[],treeCheck:[],defaultTreeProps:{children:"children",label:"authName"}},rolesList:[],expandsAll:[]}},watch:{},computed:{},methods:{getRowKey:function(e){return e.rid+""},getRoles:function(){var e=this;this.$http("/roles").then((function(t){var a=t.data;1==a.code?(e.rolesList=a.data,e.expandsAll=a.data.map((function(e){return e.rid+""}))):e.$message.error("获取数据失败")}))},getLeafTree:function(e,t){var a=this;if(!e.children)return t.push(e.id);e.children.forEach((function(e){a.getLeafTree(e,t)}))},addRole:function(){this.editorDalog.editRow={},this.editorDalog.isVisible=!0},handleEditDialog:function(e){this.editorDalog.editRow=Object(F["a"])({},e),this.editorDalog.isVisible=!0},handleDeleteDialog:function(e){},handleDialogClose:function(){this.editorDalog.isVisible=!1,this.$refs.child.resetForm()},handleDialogEnter:function(e){this.editorDalog.isVisible=!1},handleHeader:function(){},handleDeleteItem:function(e,t){if(this.$message({message:"建议通过axios远程请求修改数据,再次只是进行本地处理"}),e.rid==t)this.rolesList=this.rolesList.filter((function(e){return e.rid!=t}));else{var a=e.children;a.some((function(e){if(e.id==t)return a=a.filter((function(e){return e.id!==t})),!0;var n=e.children;n.some((function(e){if(e.id==t)return n=n.filter((function(e){return e.id!=t})),!0;var a=e.children;a=a.filter((function(e){return e.id!=t})),e.children=a})),e.children=n})),e.children=a}},setRights:function(e){var t=this;this.$http.get("/rights").then((function(e){1==e.data.code?t.treeDialog.treedata=e.data.data:t.$message.error("获取数据失败!!!")})),this.treeDialog.isVisible=!0;var a=[];this.getLeafTree(e,a),this.treeDialog.treeCheck=a,this.treeDialog.editId=e.rid},getAllRights:function(){var e=this,t=this.$refs.rightsTree.getCheckedNodes(!1,!0);this.rolesList=this.rolesList.map((function(a){return a.rid==e.treeDialog.editId&&(a.children=t.filter((function(e){return 0==e.pid}))),a})),this.$message.success("需要post远程服务器后端进行数组CURD,并重新获取新的权限来完成渲染"),this.handleCloseTree()},handleCloseTree:function(){this.$refs.rightsTree.setCheckedKeys([]),this.treeDialog.isVisible=!1}},created:function(){this.getRoles()},mounted:function(){}},qe=Ve,Le=(a("a8dd"),Object(c["a"])(qe,xe,ke,!1,null,"01da4fcd",null)),Pe=Le.exports,je=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"orders_container"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),a("el-breadcrumb-item",[e._v("订单管理")]),a("el-breadcrumb-item",[e._v("订单列表")])],1),a("el-card",{staticClass:"box-card"},[a("el-row",{attrs:{gutter:22}},[a("el-col",{attrs:{span:8}},[a("el-input",{attrs:{placeholder:"请输入查询内容",clearable:""},model:{value:e.queryInfo.queryName,callback:function(t){e.$set(e.queryInfo,"queryName",t)},expression:"queryInfo.queryName"}},[a("el-button",{attrs:{slot:"append",type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.getOrders()}},slot:"append"},[e._v("搜索")])],1)],1)],1),[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.orderlist,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"index",width:"60px",label:"序号",align:"center"}}),a("el-table-column",{attrs:{prop:"order_number",label:"订单编号",width:"240px"}}),a("el-table-column",{attrs:{prop:"order_price",label:"订单价格",width:"180px",align:"center"}}),a("el-table-column",{attrs:{prop:"order_pay",label:"是否付款",width:"140px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[0!=t.row.order_pay?a("el-tag",{attrs:{size:"mini",effect:"dark"}},[e._v(" 已付款 ")]):a("el-tag",{attrs:{size:"mini",effect:"dark",type:"danger"}},[e._v("未付款")]),1==t.row.order_pay?a("el-tag",{attrs:{effect:"dark",type:"success",size:"mini"}},[e._v("支付宝 ")]):2==t.row.order_pay?a("el-tag",{attrs:{size:"mini",effect:"dark",type:"success"}},[e._v(" 微信 ")]):3==t.row.order_pay?a("el-tag",{attrs:{size:"mini",effect:"dark",type:"success"}},[e._v(" 银行卡 ")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"is_send",label:"是否发货",align:"center"}}),a("el-table-column",{attrs:{prop:"create_time",label:"下单时间",width:"220px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.getFormatTime("yyyy-MM-dd hh:mm:ss",t.row.create_time))+" ")]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"180px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{staticClass:"item",attrs:{enterable:!1,effect:"dark",content:"修改地址",placement:"top"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(a){return e.handleEdit(t.row)}}})],1),a("el-tooltip",{staticClass:"item",attrs:{enterable:!1,effect:"dark",content:"物流详情",placement:"top"}},[a("el-button",{attrs:{size:"mini",type:"success",icon:" el-icon-truck"},on:{click:function(a){return e.handleTransportOpen(t.row)}}})],1),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return e.handleDelete(t.row)}}})]}}])})],1)],a("el-pagination",{attrs:{"current-page":e.queryInfo.pagenum,"page-sizes":[1,5,10,50],"page-size":e.queryInfo.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.total,background:!0},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],2),a("el-dialog",{attrs:{title:"编辑框",visible:e.editorDialog.isVisible,width:"70%"},on:{"update:visible":function(t){return e.$set(e.editorDialog,"isVisible",t)},close:e.handleDialogClose}},[a("el-form",{attrs:{"label-width":"150px",model:e.editorDialog.editRow}},[a("el-form-item",{attrs:{label:"省市区/县",required:""}},[a("el-cascader",{attrs:{options:e.provinceCities},on:{change:e.handleSelectChange},model:{value:e.editorDialog.editRow.province,callback:function(t){e.$set(e.editorDialog.editRow,"province",t)},expression:"editorDialog.editRow.province"}})],1),a("el-form-item",{attrs:{label:"详细地址(街道/门牌)",required:""}},[a("el-input",{model:{value:e.editorDialog.editRow.consignee_addr,callback:function(t){e.$set(e.editorDialog.editRow,"consignee_addr","string"===typeof t?t.trim():t)},expression:"editorDialog.editRow.consignee_addr"}})],1),a("el-form-item",{attrs:{align:"center"}},[a("el-row",[a("el-col",{attrs:{span:8,offset:14}},[a("el-button",{on:{click:e.handleDialogClose}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.handleDialogSubmit}},[e._v("确定")])],1)],1)],1)],1)],1),a("el-dialog",{attrs:{title:"物流信息",visible:e.transportation.isVisible,width:"70%"},on:{"update:visible":function(t){return e.$set(e.transportation,"isVisible",t)},close:e.handleTransportClose}},[a("div",{staticClass:"kuaidi-timeline"},[a("el-timeline",e._l(e.transportation.activities,(function(t,n){return a("el-timeline-item",{key:n,attrs:{icon:t.location?"el-icon-location":"",color:t.location?"red":""==t.time?"#eee":"#409eff",type:0==n?"primary":"success",size:t.location?"large":"normal",timestamp:t.time}},[e._v(" "+e._s(t.context)+" ")])})),1)],1),a("el-row",[a("el-col",{attrs:{span:8,offset:14}},[a("el-button",{on:{click:e.handleTransportClose}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.handleTransportClose}},[e._v("确定")])],1)],1)],1)],1)},Re=[],Ie={name:"Orders",components:{},props:{},data:function(){return{queryInfo:{queryName:"",pagenum:1,pagesize:5},editorDialog:{editRow:{consignee_addr:"",province:[]},isVisible:!1},transportation:{isVisible:!1,activities:[]},provinceCities:[],orderlist:[],total:0}},watch:{},computed:{},methods:{getOrders:function(){var e=this,t=this.$loading({target:".el-main",lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.$http.get("/orders",{params:this.queryInfo}).then((function(a){var n=a.data;t.close(),1==n.code?(e.orderlist=n.data,e.total=n.total):e.$message.error("获取数据失败")}))},handleEdit:function(e){this.editorDialog.isVisible=!0,this.editorDialog.editRow=Object(F["a"])({},e)},handleDelete:function(e){var t=this;this.$confirm("此操作将永久删除该选项, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$message({type:"success",message:"删除成功!"+JSON.stringify(e)})})).catch((function(){t.$message({type:"error",message:"已取消删除"})}))},handleSizeChange:function(e){this.queryInfo.pagesize=e,this.getOrders()},handleCurrentChange:function(e){this.queryInfo.pagenum=e,this.getOrders()},handleDialogClose:function(){this.editorDialog.isVisible=!1},handleDialogSubmit:function(){this.editorDialog.isVisible=!1,this.$message({type:"success",message:"添加成功!"+JSON.stringify(this.editorDialog.editRow)})},handleSelectChange:function(e){},handleTransportClose:function(){this.transportation.isVisible=!1,this.transportation.activities=[]},handleTransportOpen:function(e){var t=this,a=this.$loading({target:".kuaidi-timeline",text:"Loading",spinner:"el-icon-loading"});this.$http.get("/kuaidi",{params:{kdId:""}}).then((function(e){var n=e.data;1==n.code?(t.transportation.activities=n.data,a.close(),t.transportation.isVisible=!0):t.$message.error("获取数据失败")}))}},created:function(){this.getOrders();var e=[];this.$http.get("/cities").then((function(t){var a=t.data;a.provinces.province.map((function(t){var a={label:t.ssqname,value:t.ssqname};t.cities&&(a.children=[],t.cities.city.map((function(e){var t={label:e.ssqname,value:e.ssqname};e.areas&&(t.children=[],t.children=e.areas.area.map((function(e){return{label:e.ssqname,value:e.ssqname}}))),a.children.push(t)}))),e.push(a)}))})),this.provinceCities=e},mounted:function(){}},Fe=Ie,Te=(a("d657"),Object(c["a"])(Fe,je,Re,!1,null,"18d0225a",null)),Ne=Te.exports,Me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"reports_container"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),a("el-breadcrumb-item",[e._v("数据统计")]),a("el-breadcrumb-item",[e._v("数据报表")])],1),a("el-card",[a("div",{staticStyle:{width:"750px",height:"400px"},attrs:{id:"main"}})]),e._m(0)],1)},Ae=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h3",[e._v("参数设置:")]),a("img",{attrs:{src:"https://echarts.apache.org/zh/documents/asset/img/basic-concepts-overview/series-all-a.jpg",alt:"echart"}}),a("pre",[e._v("        这里 option 表示使用 json 数据格式的配置来绘制图表。步骤如下：\n\n        标题\n\n        为图表配置标题：\n\n        title: {\n            text: '第一个 ECharts 实例'\n        }\n        提示信息\n\n        配置提示信息：\n\n        tooltip: {},\n        图例组件\n\n        图例组件展现了不同系列的标记(symbol)，颜色和名字。可以通过点击图例控制哪些系列不显示。\n\n        legend: {\n            data: [{\n                name: '系列1',\n                // 强制设置图形为圆。\n                icon: 'circle',\n                // 设置文本为红色\n                textStyle: {\n                    color: 'red'\n                }\n            }]\n        }\n        X 轴\n\n        配置要在 X 轴显示的项:\n\n        xAxis: {\n            data: [\"衬衫\",\"羊毛衫\",\"雪纺衫\",\"裤子\",\"高跟鞋\",\"袜子\"]\n        }\n        Y 轴\n\n        配置要在 Y 轴显示的项。\n\n        yAxis: {}\n        系列列表\n\n        每个系列通过 type 决定自己的图表类型:\n\n        series: [{\n            name: '销量',  // 系列名称\n            type: 'bar',  // 系列图表类型\n            data: [5, 20, 36, 10, 10, 20]  // 系列中的数据内容\n        }]\n        每个系列通过 type 决定自己的图表类型：\n\n        type: 'bar'：柱状/条形图\n        type: 'line'：折线/面积图\n        type: 'pie'：饼图\n        type: 'scatter'：散点（气泡）图\n        type: 'effectScatter'：带有涟漪特效动画的散点（气泡）\n        type: 'radar'：雷达图\n        type: 'tree'：树型图\n        type: 'treemap'：树型图\n        type: 'sunburst'：旭日图\n        type: 'boxplot'：箱形图\n        type: 'candlestick'：K线图\n        type: 'heatmap'：热力图\n        type: 'map'：地图\n        type: 'parallel'：平行坐标系的系列\n        type: 'lines'：线图\n        type: 'graph'：关系图\n        type: 'sankey'：桑基图\n        type: 'funnel'：漏斗图\n        type: 'gauge'：仪表盘\n        type: 'pictorialBar'：象形柱图\n        type: 'themeRiver'：主题河流\n        type: 'custom'：自定义系列\n        ")])])}],Ue=a("164e"),Ge=a.n(Ue),Je=a("60bb"),He=a.n(Je),Be={name:"Reports",components:{},props:{},data:function(){return{options:{title:{text:"用户数据"},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#E9EEF3"}}},xAxis:[{boundaryGap:!1}],yAxis:[{type:"value"}],grid:{left:"13%",right:"4%",bottom:"3%",containLabel:!0}}}},watch:{},computed:{},methods:{},created:function(){},mounted:function(){var e=this,t=Ge.a.init(document.getElementById("main")),a={title:{text:"ECharts 入门示例"},tooltip:{},legend:{data:["销量"]},xAxis:{data:["衬衫","羊毛衫","雪纺衫","裤子","高跟鞋","袜子"]},yAxis:{},series:[{name:"销量",type:"line",data:[5,14,36,10,10,20]}]};this.$http.get("/reports/1").then((function(n){var i=n.data;200==i.meta.status?(e.options=He.a.merge(e.options,i.data),t.setOption(e.options)):(e.$message.error("获取数据失败"),t.setOption(a))}))}},Ye=Be,Ke=Object(c["a"])(Ye,Me,Ae,!1,null,"b5310ef6",null),Ze=Ke.exports;i.a.use(m.a);var Xe=[{path:"/",redirect:"/home"},{path:"/home",component:L,redirect:"/welcome",children:[{path:"/welcome",component:S},{path:"/goods",component:ie},{path:"/Categories",component:de},{path:"/params",component:fe},{path:"/users",component:H},{path:"/orders",component:Ne},{path:"/rights",component:De},{path:"/roles",component:Pe},{path:"/reports",component:Ze}]},{path:"/login",component:w}],Qe=new m.a({routes:Xe});Qe.beforeEach((function(e,t,a){if("/login"==e.path)return a();var n=window.sessionStorage.getItem("token");if(!n)return a("/login");a()}));var We=Qe,et=(a("aede"),a("c451")),tt=a.n(et),at=a("cebe"),nt=a.n(at),it=a("1af2"),rt=a.n(it);nt.a.defaults.baseURL="https://www.fastmock.site/mock/5ed9366683fc2c19dce8aabb33f46592/vueShop/api",nt.a.interceptors.request.use((function(e){return e.headers.Authorization=window.sessionStorage.getItem("token"),rt.a.start(),e})),nt.a.interceptors.response.use((function(e){return rt.a.done(),e})),i.a.prototype.$http=nt.a,i.a.use(tt.a),i.a.config.productionTip=!1,new i.a({router:We,render:function(e){return e(u)}}).$mount("#app")},"60bb":function(e,t){e.exports=_},6389:function(e,t){e.exports=VueRouter},"64ce":function(e,t,a){},7044:function(e,t,a){},"78ce":function(e,t,a){},7962:function(e,t,a){"use strict";var n=a("e3ab"),i=a.n(n);i.a},8229:function(e,t,a){"use strict";var n=a("ffd1"),i=a.n(n);i.a},"85ec":function(e,t,a){},"8bbf":function(e,t){e.exports=Vue},"9e30":function(e,t,a){"use strict";var n=a("04f2"),i=a.n(n);i.a},a8dd:function(e,t,a){"use strict";var n=a("25c9"),i=a.n(n);i.a},aede:function(e,t,a){},b200:function(e,t,a){e.exports=a.p+"img/yplogo.e550103a.png"},c2ec:function(e,t,a){"use strict";var n=a("e5f0"),i=a.n(n);i.a},c451:function(e,t,a){a("d3b7"),a("4d63"),a("ac1f"),a("25f0"),a("5319"),t.install=function(e){e.prototype.text1=function(){alert("执行成功1")},e.prototype.getFormatTime=function(e,t){"[object String]"==Object.prototype.toString.call(t)&&(t=new Date(t)),"[object Number]"==Object.prototype.toString.call(t)&&(t=new Date(t)),e=e||"yyyy-MM-dd hh:mm:ss ";var a={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),a)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?a[n]:("00"+a[n]).substr((""+a[n]).length)));return e}}},cebe:function(e,t){e.exports=axios},cf05:function(e,t,a){e.exports=a.p+"img/logo.82b9c7a5.png"},d657:function(e,t,a){"use strict";var n=a("64ce"),i=a.n(n);i.a},e3ab:function(e,t,a){},e5f0:function(e,t,a){},ffd1:function(e,t,a){}});
//# sourceMappingURL=app.79b40366.js.map